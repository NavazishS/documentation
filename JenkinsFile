pipeline {
  agent {
    docker {
      image 'nawdocker/docker-curl:v1'
      args '--user root -v /var/run/docker.sock:/var/run/docker.sock'
    }
  }
  environment {
    HOST_IP = sh(script: "hostname -I | awk '{print \$1}'", returnStdout: true).trim()
  }
  stages {
    stage('Print Host IP') {
      steps {
        script {
          echo "Host IP: ${env.HOST_IP}"
        }
      }
    }
  }
}
